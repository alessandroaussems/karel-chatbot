function sendMessage(e,t){if(13==t.keyCode||"getit"==e){if(e="getit")var s=document.getElementsByClassName("userinput")[0].value;else var s=e;if(createUserMessage(s),document.getElementsByClassName("userinput")[0].value="",removeTypeIcon(),createTypeIcon(),allowToSend){allowToSend=!1;var n;n=new XMLHttpRequest,n.onreadystatechange=function(){4==n.readyState&&200==n.status&&createAnswer(this.responseText),4==n.readyState&&500==n.status&&createAnswer("<p>Whoops er ging iets fout. Je mag nu een mail sturen naar <a href='mailto:alessandro.aussems@student.kdg.be'>alessandro.aussems@student.kdg.be</a></p>")},n.open("GET","./chat/"+s,!0),n.send()}}}function createUserMessage(e){var t=document.createElement("li");t.className="usermessage",e=document.createTextNode(e),t.appendChild(e),messageList.appendChild(t),messageList.scrollIntoView(!1)}function createAnswer(e){setTimeout(function(){removeTypeIcon();var t=document.createElement("li");t.className="botmessage",t.innerHTML=e,messageList.appendChild(t),messageList.scrollIntoView(!1),allowToSend=!0},BOTTHINKINGTIME)}function createTypeIcon(){var e=document.createElement("li");e.className="typing-indicator botmessage";for(var t=0;t<3;t++){var s=document.createElement("span");e.appendChild(s)}messageList.appendChild(e),messageList.scrollIntoView(!1)}function removeTypeIcon(){var e=document.getElementsByClassName("typing-indicator")[0];e&&messageList.removeChild(e)}function getCookie(e){for(var t=e+"=",s=decodeURIComponent(document.cookie),n=s.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function doKdGLogin(e){var t=document.getElementById("login").value,s=document.getElementById("password").value,n=document.getElementById("loginbutton"),a=document.getElementById("loading"),o=getCookie("chatsession");n.disabled=!0,n.classList.add("nodisplay"),a.classList.add("display");var i;i=new XMLHttpRequest,i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var e=JSON.parse(this.responseText);e&&(document.getElementById("overlay").classList.remove("display"),document.getElementById("kdgconnect").classList.add("nodisplay"),createAnswer("Dankjewel om je KdG-account te koppelen! Ik kan je nu nog beter helpen!")),console.log(e),e||(n.disabled=!1,n.classList.remove("nodisplay"),a.classList.remove("display"),document.getElementById("loginerror").classList.add("display"))}},i.open("PUT","./kdglogin/",!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send("login="+t+"&password="+s+"&chatsession="+o)}function showLoginForm(e){document.getElementById("overlay").classList.add("display")}function hideLoginForm(e){document.getElementById("overlay").classList.remove("display")}var messageList=document.getElementById("messagelist"),BOTTHINKINGTIME=3e3,welcomemessage="Hallo ik ben Karel! Stel je vragen maar!",allowToSend=!0;document.addEventListener("DOMContentLoaded",function(e){""!=getCookie("visits")&&1==getCookie("visits")&&setTimeout(function(){createTypeIcon(),createAnswer(welcomemessage)},1e3)});
//# sourceMappingURL=../maps/scripts.min.js.map
